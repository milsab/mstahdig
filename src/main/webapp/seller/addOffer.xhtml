<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../WEB-INF/template/FormsTemplate.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="title">
        <br/>
        <br/>
        Make your Offer
    </ui:define>

    <ui:define name="content">
        <h:form enctype="multipart/form-data"  prependId="false">
            <h:outputLabel for="title">Title:</h:outputLabel>
            <h:inputText value="#{offerController.offer.title}" class="form-control" id="title"></h:inputText>
            <h:message for="title" errorClass="text-danger"/>
            <br/>
            <h:outputLabel for="description">Description:</h:outputLabel>
            <h:inputTextarea value="#{offerController.offer.description}" class="form-control" id="description"></h:inputTextarea>
            <h:message for="description" errorClass="text-danger"/>
            <br/>
            <h:outputLabel for="recipe">Recipe:</h:outputLabel>
            <h:inputTextarea value="#{offerController.offer.recipe}" class="form-control" id="recipe"></h:inputTextarea>
            <h:message for="recipe" errorClass="text-danger"/>
            <br/>
            <h:outputLabel for="quantity">Quantity:</h:outputLabel>
            <h:inputText value="#{offerController.offer.quantity}" class="form-control" id="quantity"></h:inputText>
            <h:message for="quantity" errorClass="text-danger"/>
            <br/>
            <h:outputLabel for="price">Unit Price ($):</h:outputLabel>
            <h:inputText value="#{offerController.offer.unitPrice}" class="form-control" id="price"></h:inputText>
            <h:message for="price" errorClass="text-danger"/>
            <br/>

            <h:outputLabel for="inputGroupFile01">Image of the meal:</h:outputLabel>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text">Upload Image</span>
                </div>
                <div class="custom-file">

                    <h:inputFile value="#{offerService.uploadedFile}" class="custom-file-input" id="inputGroupFile01"></h:inputFile>
                    <h:message for="inputGroupFile01" errorClass="text-danger"/>
                    <label class="custom-file-label" for="inputGroupFile01">Choose file</label>
                </div>
            </div>

            <br/>
            <h:commandButton action="#{offerService.create(offerController.offer, loginController.remoteUser)}"                             
                             class="btn btn-primary btn-lg btn-block" 
                             value="Submit" >                
            </h:commandButton>

        </h:form>
    </ui:define>

</ui:composition>
